{% assign allCities = settings.city_list | remove: " "  | split: ","  %}


<div class="h-location-selector {{section.settings.css_class}}" 
     style="background-color:  {{ section.settings.background_color }}; ">
    <div class="h-location-selector__inner general-section__tertiary section-small
    {% if section.settings.remove_bottom_spacing %} general-section__tertiary--no-bottom {% endif %}">
        <div class="h-location-selector__content {% if section.settings.show_bottom_border %} h-location-selector__content--border{% endif %}">

            <div class="h-location-selector__content--left">
                {% if section.settings.heading != blank %}
                <h5 class="h-location-selector__heading">
                    {% render 'icon',
                        name: 'gm-person',
                        icon_class: 'header__icon'
                    %}
                    {{ section.settings.heading }}
                </h5>
                {% endif %}

                {% if section.settings.text != blank %}
                <p class="h-location-selector__text t-small">
                    {{ section.settings.text }}
                </p>
                {% endif %}
            </div>

            <div class="h-location-selector__content--right">
                {% if section.settings.label != blank %}
                <p class="p-small h-location-selector__label tw-medium sp-mb-1">
                    {{ section.settings.label }}
                </p>
                {% endif %}

                <div class="city__selector">
                  <select>
                    <option value="default">Select a city</option>
                    {% for city in allCities %}
                      <option value="{{ city }}">{{ city }}</option>
                    {% endfor %}
                  </select>
                </div>
            </div>
              
        </div>
    </div>
</div>





{% schema %}
  {
    "name": {
      "en": "Location Selector"
    },
    "class": "index-section index-section--location-selector",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      },
      {
        "type": "textarea",
        "id": "text",
        "label": "Text"
      },
      {
        "type": "text",
        "id": "label",
        "label": "Selector Label"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color"
      },
      {
        "type": "checkbox",
        "id": "remove_bottom_spacing",
        "label": "Remove Bottom Spacing",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_bottom_border",
        "label": "Show Bottom Border",
        "default": true
      },
      {
        "type": "text",
        "id": "css_class",
        "label": "CSS Class"
      }
    ],
    "presets": [
    {
      "name": "Location Selector",
      "category": "Advanced layout"
    }
  ]
  }
{% endschema %}
  